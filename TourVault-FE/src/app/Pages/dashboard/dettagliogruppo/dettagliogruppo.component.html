<nav
  class="navbar navbar-expand-lg bg-body-tertiary"
  *ngIf="gruppoLocker && user"
>
  <div class="container-fluid">
    <a class="navbar-brand" [routerLink]="['/dashboard']">TourVault</a>
    <div id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item me-3">
          <button
            class="btn btn-success"
            [routerLink]="['/dashboard', 'areautente', user.id]"
          >
            Area Utente
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-danger" (click)="logout()">Logout</button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div *ngIf="gruppoLocker" class="container">
  <h2 class="text-center">Locker nel Gruppo: {{ gruppoLocker.nome }}</h2>

  <div class="row justify-content-center mt-3" *ngIf="togglePrenotazione">
    <div class="col-12 col-md-7">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">
            Effettua Prenotazione per
            {{ lockerPrenotazione.codiceIdentificativo }}
          </h5>
          <form (submit)="inviaPrenotazione()">
            <div class="form-group">
              <label for="descrizioneDeposito">Descrizione Deposito</label>
              <textarea
                class="form-control"
                id="descrizioneDeposito"
                rows="4"
                name="descrizione"
                placeholder="Inserisci la descrizione del deposito"
                [(ngModel)]="descrizione"
                name="descrizione"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary mt-2">
              Effettua Prenotazione
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-12 col-md-7">
      <ul class="list-group mt-5">
        <li class="list-group-item" *ngFor="let locker of gruppoLocker.locker">
          <div class="row justify-content-between">
            <div class="col-md-6">
              <p>
                <strong>Codice Identificativo:</strong>
                {{ locker.codiceIdentificativo }}
              </p>
              <p><strong>Stato:</strong> {{ locker.stato }}</p>
              <p><strong>Tipo:</strong> {{ locker.tipo }}</p>
            </div>
            <div
              class="col-12 col-md-6 d-flex justify-content-center justify-content-md-end align-items-center"
            >
              <button class="btn btn-success" (click)="showLocker(locker.id)">
                Prenota locker
              </button>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
